<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>‡∏ô‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏£‡∏±‡∏ß‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏î</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2d3436; --accent: #f39c12; --success: #2ecc71; --danger: #e74c3c; --bg: #f0f2f5; }
        * { box-sizing: border-box; font-family: 'Kanit', sans-serif; }
        
        body { background-color: var(--bg); margin: 0; padding: 10px; padding-top: 160px; }

        /* ‡πÅ‡∏ñ‡∏ö‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô (Sticky Header) */
        .header-summary { 
            position: fixed; top: 0; left: 0; right: 0; 
            background: var(--primary); color: white; 
            padding: 15px 20px; border-radius: 0 0 20px 20px; 
            box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1000; 
        }
        .header-container { max-width: 1000px; margin: 0 auto; }
        .header-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; margin-bottom: 8px; }
        .header-item { font-size: 0.85rem; opacity: 0.8; }
        .header-item b { display: block; font-size: 1.2rem; opacity: 1; color: #fff; }
        .header-total { border-top: 1px solid #444; padding-top: 8px; display: flex; justify-content: space-between; align-items: center; }
        .grand-total-price { font-size: 1.8rem; font-weight: bold; color: var(--accent); }

        /* ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏¢‡πå‡πÄ‡∏≠‡∏≤‡∏ï‡πå‡∏´‡∏•‡∏±‡∏Å */
        .main-layout { 
            max-width: 1000px; margin: 0 auto; 
            display: grid; grid-template-columns: 1fr 1fr; gap: 20px; 
        }

        .card { background: white; border-radius: 16px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.05); margin-bottom: 20px; height: fit-content; }
        h2 { text-align: center; color: var(--primary); margin: 0 0 20px 0; grid-column: span 2; }
        .section-title { font-size: 1.1rem; font-weight: 600; color: #636e72; margin-bottom: 15px; display: flex; align-items: center; }
        .section-title::before { content: "ü¶Ü"; margin-right: 8px; }

        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå Row ‡∏Å‡∏≤‡∏£‡∏ô‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô */
        .money-row { display: flex; align-items: center; background: #f8f9fa; padding: 10px; border-radius: 12px; border: 1px solid #edf2f7; margin-bottom: 8px; }
        .label { width: 90px; font-weight: 500; font-size: 1.1rem; }
        .input-wrapper { flex: 1; }
        .input-wrapper input { width: 100%; border: 2px solid #ddd; border-radius: 8px; padding: 10px; text-align: right; font-size: 1.2rem; outline: none; }
        .input-wrapper input:focus { border-color: var(--accent); background: #fffdfa; }
        .row-result { width: 100px; text-align: right; font-weight: bold; color: var(--success); font-size: 0.95rem; margin-left: 10px; }

        /* ‡∏ä‡πà‡∏≠‡∏á Input ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà */
        .big-input-group { margin-bottom: 20px; }
        .big-input-group label { display: block; margin-bottom: 8px; font-size: 1rem; font-weight: bold; color: #444; }
        .big-input-group input { width: 100%; padding: 15px; border-radius: 12px; border: 2px solid #cbd5e1; font-size: 1.5rem; text-align: right; font-weight: bold; }
        .bank-input input { border-color: #3498db; background: #ebf5ff; color: #2980b9; }
        .target-input input { border-color: #94a3b8; background: #f8fafc; color: var(--primary); }

        .diff-tag { font-size: 1rem; padding: 6px 16px; border-radius: 20px; font-weight: bold; }
        .diff-none { background: #444; color: #ccc; }
        .diff-plus { background: var(--success); color: white; }
        .diff-minus { background: var(--danger); color: white; }

        button.reset-btn { width: 100%; background: #dfe6e9; border: none; padding: 15px; border-radius: 12px; color: #636e72; font-weight: bold; cursor: pointer; font-size: 1rem; }
        button.reset-btn:hover { background: #b2bec3; }

        /* ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
        @media (max-width: 768px) {
            body { padding-top: 170px; }
            .main-layout { grid-template-columns: 1fr; }
            h2 { grid-column: span 1; font-size: 1.3rem; }
            .grand-total-price { font-size: 1.4rem; }
            .header-grid { grid-template-columns: 1fr 1fr; }
        }
    </style>
</head>
<body>

<div class="header-summary">
    <div class="header-container">
        <div class="header-grid">
            <div class="header-item">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î: <b id="sum-cash">0.00</b></div>
            <div class="header-item">‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô: <b id="sum-bank">0.00</b></div>
            <div class="header-item">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢): <b id="sum-target">0.00</b></div>
        </div>
        <div class="header-total">
            <div>
                <span style="font-size: 0.8rem; opacity: 0.8;">‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô</span>
                <div class="grand-total-price" id="grand-total">0.00</div>
            </div>
            <div id="diff-status" class="diff-tag diff-none">‡πÉ‡∏™‡πà‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</div>
        </div>
    </div>
</div>

<div class="main-layout">
    <h2>‡∏ô‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏Ñ‡∏£‡∏±‡∏ß‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏î</h2>

    <div class="card">
        <div class="section-title">‡∏ô‡∏±‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡∏™‡∏î‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</div>
        <div class="money-row"><span class="label">1,000</span><div class="input-wrapper"><input type="number" class="qty" data-value="1000" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">500</span><div class="input-wrapper"><input type="number" class="qty" data-value="500" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">100</span><div class="input-wrapper"><input type="number" class="qty" data-value="100" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">50</span><div class="input-wrapper"><input type="number" class="qty" data-value="50" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">20</span><div class="input-wrapper"><input type="number" class="qty" data-value="20" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">10</span><div class="input-wrapper"><input type="number" class="qty" data-value="10" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">5</span><div class="input-wrapper"><input type="number" class="qty" data-value="5" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
        <div class="money-row"><span class="label">1</span><div class="input-wrapper"><input type="number" class="qty" data-value="1" oninput="calculate()" onclick="this.select()" placeholder="0"></div><div class="row-result">0</div></div>
    </div>

    <div>
        <div class="card target-input big-input-group">
            <label>3. ‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ï‡∏≤‡∏°‡∏ö‡∏¥‡∏• (Target)</label>
            <input type="number" id="target-amount" placeholder="0.00" oninput="calculate()" onclick="this.select()">
        </div>

        <div class="card bank-input big-input-group">
            <label>2. ‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô‡πÇ‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏ö‡∏±‡∏ç‡∏ä‡∏µ (Bank)</label>
            <input type="number" id="bank-amount" placeholder="0.00" oninput="calculate()" onclick="this.select()">
        </div>

        <div class="card" style="text-align: center;">
            <p style="color: #636e72; font-size: 0.9rem;">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏¥‡∏î‡∏¢‡∏≠‡∏î</p>
            <button class="reset-btn" onclick="resetAll()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•/‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
        </div>
    </div>
</div>

<script>
    function calculate() {
        let cashTotal = 0;
        const rows = document.querySelectorAll('.money-row');
        
        rows.forEach(row => {
            const input = row.querySelector('.qty');
            const resDisp = row.querySelector('.row-result');
            const val = parseFloat(input.getAttribute('data-value'));
            const qty = parseFloat(input.value) || 0;
            const sub = val * qty;
            resDisp.textContent = sub.toLocaleString();
            cashTotal += sub;
        });

        const bankTotal = parseFloat(document.getElementById('bank-amount').value) || 0;
        const targetTotal = parseFloat(document.getElementById('target-amount').value) || 0;
        const grandTotal = cashTotal + bankTotal;
        const diff = grandTotal - targetTotal;

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡∏™‡∏£‡∏∏‡∏õ
        document.getElementById('sum-cash').textContent = cashTotal.toLocaleString(undefined, {minimumFractionDigits: 2});
        document.getElementById('sum-bank').textContent = bankTotal.toLocaleString(undefined, {minimumFractionDigits: 2});
        document.getElementById('sum-target').textContent = targetTotal.toLocaleString(undefined, {minimumFractionDigits: 2});
        document.getElementById('grand-total').textContent = grandTotal.toLocaleString(undefined, {minimumFractionDigits: 2});

        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏ß‡∏ô‡∏ï‡πà‡∏≤‡∏á
        const diffStatus = document.getElementById('diff-status');
        if (targetTotal <= 0) {
            diffStatus.className = 'diff-tag diff-none';
            diffStatus.textContent = '‡∏£‡∏≠‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢';
        } else {
            if (diff === 0) {
                diffStatus.className = 'diff-tag diff-plus';
                diffStatus.textContent = '‚úÖ ‡∏¢‡∏≠‡∏î‡∏ï‡∏£‡∏á';
            } else if (diff > 0) {
                diffStatus.className = 'diff-tag diff-plus';
                diffStatus.textContent = '‡πÄ‡∏Å‡∏¥‡∏ô +' + diff.toLocaleString();
            } else {
                diffStatus.className = 'diff-tag diff-minus';
                diffStatus.textContent = '‡∏Ç‡∏≤‡∏î ' + diff.toLocaleString();
            }
        }
    }

    function resetAll() {
        if(confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
            document.querySelectorAll('input').forEach(i => i.value = '');
            calculate();
            window.scrollTo(0,0);
        }
    }
</script>

</body>
</html>
